<nav>
  <div class="nav-left">
    <a class="brand" routerLink="/">
      <img [src]="logoSrc" alt="Tasks-icon" />
      <h2>SimpTasks</h2>
    </a>
  </div>

  <ul class="links">
    <li *ngIf="!isLoggedIn">
      <a routerLink="/login" routerLinkActive="active-link">Login</a>
    </li>
    <li *ngIf="isLoggedIn">
      <a routerLink="/dashboard" routerLinkActive="active-link"
        >Tasks Dashboard</a
      >
    </li>
    <li *ngIf="usernameInitial" class="dropdown">
      <div
        class="circle"
        role="button"
        tabindex="0"
        aria-haspopup="true"
        [attr.aria-expanded]="isDropdownOpen"
        (click)="toggleDropdown()"
        (keydown)="onAvatarKeydown($event)"
      >
        <p class="circle-inner">{{ usernameInitial }}</p>
      </div>

      <div
        class="dropdown-content"
        [class.show]="isDropdownOpen"
        role="menu"
        aria-label="User menu"
      >
        <a
          routerLink="/profile"
          (click)="closeDropdown()"
          role="menuitem"
          tabindex="0"
          >Profile</a
        >
        <a (click)="logout()" role="menuitem" tabindex="0">Logout</a>
      </div>
    </li>
    <li class="theme-toggle">
      <button
        class="theme-btn"
        (click)="toggleTheme()"
        [attr.aria-pressed]="currentTheme === 'dark'"
        aria-label="Toggle color theme"
      >
        <span *ngIf="currentTheme === 'dark'">☀️</span>
        <span *ngIf="currentTheme !== 'dark'">🌙</span>
      </button>
    </li>
  </ul>
</nav>
